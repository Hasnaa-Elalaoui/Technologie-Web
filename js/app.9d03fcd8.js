(function(t){function e(e){for(var r,i,l=e[0],o=e[1],c=e[2],d=0,v=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&v.push(n[i][0]),n[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);u&&u(e);while(v.length)v.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,l=1;l<a.length;l++){var o=a[l];0!==n[o]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},n={app:0},s=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/Technologie-Web/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=o;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1d83":function(t,e,a){"use strict";a("6a15")},"2b45":function(t,e,a){},4273:function(t,e,a){"use strict";a("4977")},4977:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-main",[a("router-view")],1)],1)},s=[],i={name:"App",data:function(){return{drawer:!1}}},l=i,o=a("2877"),c=a("6544"),u=a.n(c),d=a("7496"),v=a("f6c4"),m=Object(o["a"])(l,n,s,!1,null,null,null),f=m.exports;u()(m,{VApp:d["a"],VMain:v["a"]});var p=a("43f9"),h=a.n(p),g=(a("51de"),a("e094"),a("8c4f")),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Bienvenue dans HelloWorld : "+t._s(t.msg)+" ")])])},_=[],x={name:"HelloWorld",props:{msg:String}},y=x,C=(a("1d83"),Object(o["a"])(y,b,_,!1,null,"35ae6931",null)),R=C.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-navigation-drawer",{attrs:{absolute:"",bottom:"",temporary:"",height:"100%"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-item-group",{attrs:{"active-class":"primary--text text--accent-4"}},[a("v-list-item",[a("v-dialog",{attrs:{width:"450"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-list-item-title",t._g(t._b({attrs:{color:"primary",dark:""}},"v-list-item-title",n,!1),r),[t._v(" Ajouter un restaurant ")]),a("v-list-item-icon",[a("v-icon",[t._v("add")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Ajouter un restaurant ")]),a("v-card-text",{staticClass:"mt-3"},[t._v(" Veuillez renseigner les champs nécessaires à la création d'un restaurant ")]),a("div",{staticClass:"d-flex flex-column ma-4 justify-center align-items-center"},[a("label",[a("p",{staticClass:"mb-3"},[t._v("Nom :")]),a("v-text-field",{attrs:{label:"Saisir le nom du restaurant",outlined:"",clearable:""},model:{value:t.nom,callback:function(e){t.nom=e},expression:"nom"}})],1),a("label",[a("p",{staticClass:"mb-3"},[t._v("Cuisine :")]),a("v-text-field",{attrs:{label:"Saisir la cuisine",outlined:"",clearable:""},model:{value:t.cuisine,callback:function(e){t.cuisine=e},expression:"cuisine"}})],1)]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red lighten-2",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Annuler ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1},submit:function(e){return e.preventDefault(),t.ajouterRestaurant(t.event)}}},[t._v(" Ajouter ")])],1)],1)],1)],1),a("v-divider"),a("v-list-item",[a("v-list-item-title",[t._v("Tous les restaurants")])],1),a("v-list-item",[a("v-list-item-title",[t._v("Par catégories")])],1),a("v-list-item",[a("v-list-item-title",[t._v("Par ville")])],1)],1)],1)],1),a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("div",[a("div",{staticClass:"d-flex justify-center"},[a("v-card",{staticClass:"d-flex flex-column",attrs:{outlined:"",width:"90%"}},[a("div",{staticClass:"text-overline ma-5"},[t._v(" FILTRES ")]),a("div",[a("div",{staticClass:"ml-5",staticStyle:{width:"60%"}},[a("p",{staticClass:"mb-3"},[t._v("Recherche par nom :")]),a("div",[a("v-text-field",{attrs:{outlined:"",clearable:""},on:{input:function(e){return t.chercherRestaurant()}},model:{value:t.nomRestauRecherche,callback:function(e){t.nomRestauRecherche=e},expression:"nomRestauRecherche"}})],1)]),a("p",{staticClass:"ml-5"},[t._v(" Nombre de restaurants par page: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pageSize,expression:"pageSize"}],attrs:{type:"range",min:"2",max:"1000"},domProps:{value:t.pageSize},on:{change:function(e){return t.getRestaurantsFromServer()},__r:function(e){t.pageSize=e.target.value}}}),t._v(t._s(t.pageSize)+" ")])]),a("div",{staticClass:"d-flex justify-end mr-5"},[a("div",{staticClass:"d-flex flex-column"},[a("v-card-subtitle",{staticStyle:{"text-align":"right"}},[t._v("Nombre de restaurants : "+t._s(t.nbRestaurantsTotal)+" ")]),a("v-card-subtitle",{staticStyle:{"text-align":"right"}},[t._v("Nombre total de pages : "+t._s(t.nbPagesTotal))])],1)])])],1),a("div",{staticClass:"d-flex flex-column justify-self-center mt-8",attrs:{width:"90%"}},[a("v-card",{staticClass:"d-flex flex-row justify-center align-items-center",attrs:{flat:""}},[a("md-button",{staticClass:"md-primary md-dense",attrs:{disabled:0===t.page},on:{click:function(e){return t.pagePrecedente()}}},[a("md-icon",[t._v("west")])],1),a("div",{staticClass:"align-self-center"},[t._v("Page courante : "+t._s(t.page))]),a("md-button",{staticClass:"md-primary md-dense",attrs:{disabled:t.page===t.nbPagesTotal},on:{click:function(e){return t.pageSuivante()}}},[a("md-icon",[t._v("east")])],1)],1),a("v-card",{staticClass:"mx-auto",attrs:{outlined:"",width:"90%"}},[a("md-table",{attrs:{"md-sort":"name","md-sort-order":"asc"},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var r=e.item;return a("md-table-row",{},[a("md-table-cell",{attrs:{"md-label":"Name","md-sort-by":"name"}},[t._v(t._s(r.name))]),a("md-table-cell",{attrs:{"md-label":"Cuisine","md-sort-by":"cuisine"}},[t._v(t._s(r.cuisine))]),a("md-table-cell",{attrs:{"md-label":"Ville","md-sort-by":"borough"}},[t._v(t._s(r.borough))]),a("md-table-cell",{attrs:{"md-label":"Action"}},[a("router-link",{attrs:{to:"/restaurants/"+r._id}},[a("md-button",{staticClass:"md-raised"},[t._v(" Détail d'un restaurant ")])],1)],1)],1)}}]),model:{value:t.restaurants,callback:function(e){t.restaurants=e},expression:"restaurants"}},[a("md-table-row",[a("md-table-head",[t._v("Nom")]),a("md-table-head",[t._v("Cuisine")]),a("md-table-head",[t._v("Ville")])],1),a("md-table-empty-state",{attrs:{"md-label":"No restaurant found","md-description":"No restaurant found for this '"+t.nomRestauRecherche+"' query. Try a different search term or create a new restaurant."}},[a("div",{staticClass:"d-flex justify-self-center"},[a("v-dialog",{attrs:{width:"450"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"primary",dark:""},on:{click:function(e){t.nom=t.nomRestauRecherche}}},"v-btn",n,!1),r),[t._v(" Ajouter un restaurant ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Ajouter un restaurant ")]),a("v-card-text",{staticClass:"mt-3"},[t._v(" Veuillez renseigner les champs nécessaires à la création d'un restaurant ")]),a("div",{staticClass:"d-flex flex-column ma-4 justify-center align-items-center"},[a("label",[a("p",{staticClass:"mb-3"},[t._v("Nom :")]),a("v-text-field",{attrs:{label:"Saisir le nom du restaurant",outlined:"",clearable:""},model:{value:t.nom,callback:function(e){t.nom=e},expression:"nom"}})],1),a("label",[a("p",{staticClass:"mb-3"},[t._v("Cuisine :")]),a("v-text-field",{attrs:{label:"Saisir la cuisine",outlined:"",clearable:""},model:{value:t.cuisine,callback:function(e){t.cuisine=e},expression:"cuisine"}})],1),a("label",[a("p",{staticClass:"mb-3"},[t._v("Ville :")]),a("v-text-field",{attrs:{label:"Saisir la ville",outlined:"",clearable:""},model:{value:t.ville,callback:function(e){t.ville=e},expression:"ville"}})],1)]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red lighten-2",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Annuler ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1},submit:function(e){return e.preventDefault(),t.ajouterRestaurant(t.event)}}},[t._v(" Ajouter ")])],1)],1)],1)],1)])],1)],1)],1)])],1)},V=[],S=(a("d3b7"),a("2ef0")),k=a.n(S),j={name:"ListeDesRestaurants",data:function(){return{restaurants:[],nom:"",cuisine:"",ville:"",nbRestaurantsTotal:0,page:0,pageSize:10,nbPagesTotal:0,nomRestauRecherche:"",drawer:!1,dialog:!1}},mounted:function(){console.log("AVANT AFFICHAGE"),this.getRestaurantsFromServer()},methods:{pagePrecedente:function(){0!==this.page&&(this.page--,this.getRestaurantsFromServer())},pageSuivante:function(){this.page!==this.dernierePage&&(this.page++,this.getRestaurantsFromServer())},getRestaurantsFromServer:function(){var t=this,e="http://localhost:8080/api/restaurants?";e+="page="+this.page,e+="&pagesize="+this.pageSize,e+="&name="+this.nomRestauRecherche,console.log(e),fetch(e).then((function(e){e.json().then((function(e){t.restaurants=e.data,t.nbRestaurantsTotal=e.count,t.nbPagesTotal=Math.round(t.nbRestaurantsTotal/t.pageSize),console.log(t.restaurants)}))})).catch((function(t){console.log(t)}))},supprimerRestaurant:function(t){var e=this,a="http://localhost:8080/api/restaurants/"+t._id;fetch(a,{method:"DELETE"}).then((function(t){t.json().then((function(t){console.log(t.msg),e.msg=t.msg,e.getRestaurantsFromServer()}))})).catch((function(t){console.log(t)}))},getDetailRestaurant:function(t){var e=this,a="http://localhost:8080/api/RestaurantDetail?id="+t._id;fetch(a,{method:"GET"}).then((function(t){t.json().then((function(t){console.log(t.msg),e.msg=t.msg,e.getRestaurantsFromServer()}))})).catch((function(t){console.log(t)}))},ajouterRestaurant:function(t){var e=this,a=t.target,r=new FormData(a),n="http://localhost:8080/api/restaurants";fetch(n,{method:"POST",body:r}).then((function(t){t.json().then((function(t){console.log(t.msg),e.msg=t.msg,e.getRestaurantsFromServer()}))})).catch((function(t){console.log(t)})),this.nom="",this.cuisine=""},chercherRestaurant:k.a.debounce((function(){this.getRestaurantsFromServer()}),300),getColor:function(t){return t%2?"lightBlue":"pink"}}},T=j,P=(a("4273"),a("5bc1")),A=a("8336"),O=a("b0af"),F=a("99d9"),N=a("169a"),D=a("ce7e"),I=a("132d"),z=a("8860"),E=a("da13"),L=a("1baa"),M=a("34c3"),$=a("5d23"),q=a("f774"),B=a("2fa4"),G=a("8654"),H=Object(o["a"])(T,w,V,!1,null,"eab4e866",null),W=H.exports;u()(H,{VAppBarNavIcon:P["a"],VBtn:A["a"],VCard:O["a"],VCardActions:F["a"],VCardSubtitle:F["b"],VCardText:F["c"],VCardTitle:F["d"],VDialog:N["a"],VDivider:D["a"],VIcon:I["a"],VList:z["a"],VListItem:E["a"],VListItemGroup:L["a"],VListItemIcon:M["a"],VListItemTitle:$["b"],VNavigationDrawer:q["a"],VSpacer:B["a"],VTextField:G["a"]});var J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.restaurant?a("div",[a("div",{staticClass:"ma-3"},[a("router-link",{attrs:{to:"/restaurants/"}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-home")])],1)],1)],1),a("div",{staticClass:"fd-flex flex-column"},[a("v-card",{staticClass:"mx-auto my-12",attrs:{loading:t.loading,width:"50%",outlined:"",flat:""}},[a("v-img",{attrs:{height:"250",src:"https://source.unsplash.com/collection/190727","max-height":"20%"}}),a("v-card-title",[t._v(t._s(t.restaurant.name))]),a("v-card-text",[a("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[a("v-rating",{attrs:{value:t.getRandomInt(t.max),color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),a("div",{staticClass:"grey--text ms-4"},[t._v(" "+t._s(this.note)+" (413) ")])],1),a("div",{staticClass:"my-4 text-subtitle-1"},[t._v(" "+t._s(t.restaurant.cuisine)+" ")]),a("div",[t._v(" La meilleure spécialité "+t._s(t.restaurant.cuisine)+" de "+t._s(t.restaurant.borough)+" ")])],1),a("v-divider",{staticClass:"mx-4"}),a("v-card-title",[t._v("Horaires de réservation disponibles")]),a("v-card-text",[a("v-chip-group",{attrs:{"active-class":"primary accent-4 white--text",column:""},model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}},[a("v-chip",[t._v("18:30")]),a("v-chip",[t._v("19:30")]),a("v-chip",[t._v("20:00")]),a("v-chip",[t._v("21:00")])],1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"primary lighten-2",text:""},on:{click:t.reserve}}),a("v-row",[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"primary",dark:""}},"v-btn",n,!1),r),[t._v(" Réserver ")])]}}],null,!1,2640757564),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Réservation")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Nom*",required:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Prénom*","persistent-hint":"",required:""}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Email"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Téléphone*",required:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{items:["1","2","3","4","5","6","7","8"],label:"Nombre de personnes*",required:""}})],1)],1)],1),a("small",[t._v("*champs nécessaires")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Annuler ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Réserver ")])],1)],1)],1)],1)],1)],1)],1)]):t._e()},K=[],Q=(a("b0c0"),{name:"Restaurant",props:{},computed:{id:function(){return this.$route.params.id}},data:function(){return{restaurant:null,drawer:!1,loading:!1,selection:1,dialog:!1,max:5,note:0}},methods:{reserve:function(){var t=this;this.loading=!0,setTimeout((function(){return t.loading=!1}),2e3)},getRandomInt:function(t){return this.note=Math.floor(Math.random()*t),this.note}},mounted:function(){var t=this;console.log("ID = "+this.id);var e="http://localhost:8080/api/restaurants/"+this.id;fetch(e).then((function(t){return t.json()})).then((function(e){console.log(e.restaurant.name),t.restaurant=e.restaurant})).catch((function(e){console.log(e),t.$router.push("/")}))}}),U=Q,X=(a("be3d"),a("cc20")),Y=a("ef9a"),Z=a("62ad"),tt=a("a523"),et=a("adda"),at=a("1d4d"),rt=a("0fd9"),nt=a("b974"),st=Object(o["a"])(U,J,K,!1,null,"730405dd",null),it=st.exports;u()(st,{VBtn:A["a"],VCard:O["a"],VCardActions:F["a"],VCardText:F["c"],VCardTitle:F["d"],VChip:X["a"],VChipGroup:Y["a"],VCol:Z["a"],VContainer:tt["a"],VDialog:N["a"],VDivider:D["a"],VIcon:I["a"],VImg:et["a"],VRating:at["a"],VRow:rt["a"],VSelect:nt["a"],VSpacer:B["a"],VTextField:G["a"]});var lt=a("f309");r["default"].use(lt["a"]);var ot=new lt["a"]({});r["default"].config.productionTip=!1,r["default"].use(h.a),r["default"].use(g["a"]);var ct=new g["a"]({routes:[{path:"/",redirect:"/restaurants"},{path:"/restaurants",component:W},{path:"/hello",component:R,props:{msg:"Coucou la Miage"}},{path:"/restaurants/:id",component:it}],mode:"history"});new r["default"]({router:ct,vuetify:ot,render:function(t){return t(f)}}).$mount("#app")},"6a15":function(t,e,a){},be3d:function(t,e,a){"use strict";a("2b45")}});
//# sourceMappingURL=app.9d03fcd8.js.map